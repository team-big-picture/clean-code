---
sidebar_position: 1
---

# 3장 함수

## 작게 만들어라

어떤 프로그램이든 가장 기본적인 단위가 함수다. 함수를 만드는 첫째 규칙은 **작게** 만드는 것이다.
함수는 100줄이 넘으면 안 된다. 사실 20줄도 길다.

> 당연한 말이지만 함수에서 들여쓰기 수준은 1단이나 2단을 넘어서면 안 된다.

## 한 가지만 해라

> 함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야한다. 그 한 가지만을 해야 한다.

```java
 public static String renderPageWithSetupAndTeardowns {
  PageData pageData, boolean isSuite) throws Exception {
   if(isTestPage(pageData)){
    includeSetupAndTeardownPages(pageData, isSuite){
   return pageData.getHtml();
    }
   }
  }
 }

```
위 함수를 살펴보면

- 페이지가 테스트 페이지인지 판단한다.
- 그렇다면 설정 페이지와 해제 페이지를 넣는다.
- 페이지를 HTML로 렌더링한다.

이렇게 세 가지 일을 한다고 여길 수 있다. 하지만 **지정된 함수 이름 아래 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한가지 작업만 한다**

## 함수 당 추상화 수준은 하나로

- ```getHtml()```은 높은 추상화
- ```String pagePathName = PathParser.render(pagePath);```는 중간 추상화
- ```obj.appned("\n")```은 낮은 추상화

한 함수 내에 추상화 수준을 섞으면 코드를 읽는 사람이 헷갈린다. **특정 표현이 근본 개념인지, 세부사항인지 구분하기 어려워진다.**

### 위에서 아래로 코드 읽기: 내려가기 규칙

코드는 위에서 아래로 이야기처럼 읽혀야 좋다. 즉, 위에서 아래로 프로그램을 일긍면 함수 추상화 수준이 한 번에 한 단계씩 낮아진다. 이것을 **내려가기 규칙**이라고 부른다.

## 함수 인수

함수에서 이상적인 인수 개수는 0개이다! 3개 이상은 가능한 피하는 편이 좋다.

코드를 읽는 사람에게는 ```includesSetupPageInfo(newPageContent)``` 보다 ```includesSetupPage()```가 더 이해하기 쉽다.

### 많이 쓰는 단항 형식

함수에서 인수 1개를 넘기는 이유로 가장 흔한 경우는 두 가지다.

1. 인수에 질문을 던지는 경우

```boolean fileExists("MyFile")```

2. 인수를 무엇인가로 반환해 결과를 주는 경우

```InputStream fileOpen("MyFile")```

함수 이름을 지을 때는 두 경우를 분명히 구분하고, 일관적인 방식으로 두 형식을 사용해야 한다.

### 플래그 인수

플래그 인수는 추하다

### 동사와 키워드

단항 함수는 함수와 인수가 동사/명사 쌍을 이뤄야 한다. 가령, ```writeField(name)```와 같이!

혹은 함수에 키워드를 추가하면 순서를 기억하지 않아도 된다. ```assertExpectedEqualsActual(expected, actual)```

## 부수 효과를 일으키지 마라

부수효과는 시간적인 결합, 순서 종속성을 초래한다.

> 시간적이 결합이란 시간적인 결합이란 A 메서드는 B보다 언제나 먼저 호출한다. → 동시성을 허용하여 시간 의존도 낮춰야함(A만 발생하거나 B만 발생하는 경우 처리 불가)

## 구조적인 프로그래밍

데이크스트는 모든 함수와 함수 내 모든 블록에 입구와 출입구가 하나만 존재해야 한다고 했다. 즉 함수는 return 문이 하나여야 한다. 루프 안에서 break, contiune 를 사용하면 안된다.


## 함수를 어떻게 짜죠?

> 모든 것은 정보다!

소프트웨어를 짜는 행위는 글짓기와 비슷하다. 좋은 프로그래머는 시스템을 (구현할) 프로그램이 아닌 (풀어갈) 프로그램이라고 여긴다. 프로그래밍 언어라는 수단을 사용해 좀 더 풍부하고 좀 더 표현력이 강한 언어로 만들어 이야기를 풀어간다. 시스템에서 발생하는 모든 동작을 설명하는 함수 계층이 바로 그 언어에 속한다.

> 스터디 코멘트

- 최대한 나쁜 습관을 버리려고 노력해야 함...!

